{"version":3,"file":"next-redux-saga.es.js","sources":["../index.js"],"sourcesContent":["/* eslint-disable react/prop-types */\nimport React, {Component} from 'react'\nimport {END} from 'redux-saga'\n\nfunction withReduxSaga(BaseComponent) {\n  class WrappedComponent extends Component {\n    static displayName = `withReduxSaga(${BaseComponent.displayName ||\n      BaseComponent.name ||\n      'BaseComponent'})`\n\n    static async getInitialProps(props) {\n      const {isServer, store} = props.ctx\n\n      let pageProps = {}\n      if (BaseComponent.getInitialProps) {\n        pageProps = await BaseComponent.getInitialProps(props)\n      }\n\n      // Stop saga on the server\n      if (isServer) {\n        store.dispatch(END)\n        await store.sagaTask.toPromise()\n      }\n\n      return pageProps\n    }\n\n    render() {\n      return <BaseComponent {...this.props} />\n    }\n  }\n\n  return WrappedComponent\n}\n\nexport default withReduxSaga\n"],"names":["withReduxSaga","BaseComponent","WrappedComponent","props","ctx","isServer","store","pageProps","getInitialProps","dispatch","END","sagaTask","toPromise","Component","displayName","name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,SAASA,aAAT,CAAuBC,aAAvB,EAAsC;MAC9BC,gBAD8B;;;;;;;;;;;;;+BAuBzB;eACA,oBAAC,aAAD,EAAmB,KAAKC,KAAxB,CAAP;;;;;;;kDAlB2BA,KANK;;;;;;;+BAONA,KAAK,CAACC,GAPA,EAOzBC,QAPyB,cAOzBA,QAPyB,EAOfC,KAPe,cAOfA,KAPe;kBAS5BC,SAT4B,GAShB,EATgB;;uBAU5BN,aAAa,CAACO,eAVc;;;;;;yBAWZP,aAAa,CAACO,eAAd,CAA8BL,KAA9B,CAXY;;;kBAW9BI,SAX8B;;;uBAe5BF,QAf4B;;;;;kBAgB9BC,KAAK,CAACG,QAAN,CAAeC,GAAf;;yBACMJ,KAAK,CAACK,QAAN,CAAeC,SAAf,EAjBwB;;;mDAoBzBL,SApByB;;;;;;;;;;;;;;;;;IACLM,SADK;;kBAC9BX,gBAD8B,yCAEID,aAAa,CAACa,WAAd,IACpCb,aAAa,CAACc,IADsB,IAEpC,eAJgC;;SA4B7Bb,gBAAP;;;;;"}