{"version":3,"file":"next-redux-saga.umd.js","sources":["../index.js"],"sourcesContent":["/* eslint-disable react/prop-types */\nimport React, {Component} from 'react'\nimport {END} from 'redux-saga'\n\nfunction withReduxSaga(BaseComponent) {\n  class WrappedComponent extends Component {\n    static displayName = `withReduxSaga(${BaseComponent.displayName ||\n      BaseComponent.name ||\n      'BaseComponent'})`\n\n    static async getInitialProps(props) {\n      const {isServer, store} = props.ctx\n\n      let pageProps = {}\n      if (BaseComponent.getInitialProps) {\n        pageProps = await BaseComponent.getInitialProps(props)\n      }\n\n      // Stop saga on the server\n      if (isServer) {\n        store.dispatch(END)\n        await store.sagaTask.toPromise()\n      }\n\n      return pageProps\n    }\n\n    render() {\n      return <BaseComponent {...this.props} />\n    }\n  }\n\n  return WrappedComponent\n}\n\nexport default withReduxSaga\n"],"names":["withReduxSaga","BaseComponent","WrappedComponent","React","props","ctx","isServer","store","pageProps","getInitialProps","dispatch","END","sagaTask","toPromise","Component","displayName","name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAIA,SAASA,aAAT,CAAuBC,aAAvB,EAAsC;EAAA,MAC9BC,gBAD8B;EAAA;EAAA;EAAA;;EAAA;EAAA;;EAAA;EAAA;;EAAA;EAAA;EAAA,+BAuBzB;EACP,eAAOC,6BAAC,aAAD,EAAmB,KAAKC,KAAxB,CAAP;EACD;EAzBiC;EAAA;EAAA;EAAA;EAAA;EAAA,kDAMLA,KANK;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA,+BAONA,KAAK,CAACC,GAPA,EAOzBC,QAPyB,cAOzBA,QAPyB,EAOfC,KAPe,cAOfA,KAPe;EAS5BC,kBAAAA,SAT4B,GAShB,EATgB;;EAAA,uBAU5BP,aAAa,CAACQ,eAVc;EAAA;EAAA;EAAA;;EAAA;EAAA,yBAWZR,aAAa,CAACQ,eAAd,CAA8BL,KAA9B,CAXY;;EAAA;EAW9BI,kBAAAA,SAX8B;;EAAA;EAAA,uBAe5BF,QAf4B;EAAA;EAAA;EAAA;;EAgB9BC,kBAAAA,KAAK,CAACG,QAAN,CAAeC,aAAf;EAhB8B;EAAA,yBAiBxBJ,KAAK,CAACK,QAAN,CAAeC,SAAf,EAjBwB;;EAAA;EAAA,mDAoBzBL,SApByB;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA;EAAA,IACLM,eADK;;EAAA,kBAC9BZ,gBAD8B,yCAEID,aAAa,CAACc,WAAd,IACpCd,aAAa,CAACe,IADsB,IAEpC,eAJgC;;EA4BpC,SAAOd,gBAAP;EACD;;;;;;;;"}